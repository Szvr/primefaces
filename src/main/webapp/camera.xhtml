<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<h:head>
</h:head>
<h:body>
    <ui:composition template="/template/common/commonLayout.xhtml">
	   <ui:define name="header">
           <h1>#{camera.title}</h1>
	   </ui:define>

       <ui:define name="content">
           <h:form>
               <h:panelGrid columns="3" cellpadding="5">
                   <p:photoCam widgetVar="pc" listener="#{camera.oncapture}" update="photo" process="editDetails"/>
                   <p:commandButton type="button" value="Capture" onclick="PF('pc').capture()"/>
                   <p:outputPanel id="photo">
                       <p:graphicImage name="/images/#{camera.filename}.jpeg" rendered="#{not empty camera.filename}" title="#{camera.filename} &#13;Author: #{camera.author}"/>
                   </p:outputPanel>
                   <p:panelGrid columns="2" id="editDetails">
                       <p:outputLabel value="Title: "/>
                       <p:inputText value="#{camera.filename}"/>
                       <p:outputLabel value="Author: "/>
                       <p:inputText value="#{camera.author}"/>
                   </p:panelGrid>
               </h:panelGrid>
           </h:form>
       </ui:define>

    </ui:composition>
</h:body>
</html>